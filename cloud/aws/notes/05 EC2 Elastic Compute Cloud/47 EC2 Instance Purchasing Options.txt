47 EC2 Instance Purchasing Options

EC2 Instances Purchasing Options
1. On-Demand Instance
 > short workload, predictable pricing, pay by second
2. Reserved (1 & 3 years)
	> Reserved Instances - long workload (long term database)
	> Convertible Reserved Instances - long workloads with flexible instance (can change instance type)
3. Saving Plan (1 & 3 years) - commitment to an amount of usage, long workload
4. Spot Instances - short workloads, cheap, can lose instances anytime (less reliable)
5. Dedicated Hosts - book an entire physical server, control the instance placement
6. Dedicated Instances - no other customers will share your hardware
7. Capacity Reservations - reserve capacity in a specific AZ (Availability Zone) for any duration




EC2 On Demand
 > Pay for what you use
	- Linux or Windows - billed per second, after the first minute
	- All other operating systems - billing per hour
 > Has the highest cost but no upfront payment
 > No long-term commitment
 > Recommended for:
	- SHORT-TERM and UN-INTERRUPTED WORKLOADS, where you can't predict how the application will behave
 


EC2 Reserved Instances
 > Up to 72% discount compared to On-demand
 > You reserve a specific instance attributes (Instance Type, Region, Tenancy, OS)
 > Reservation Period - 1 year(+discount) or 3 years(+++discount)
 > Payment Options - No Upfront(+), Partial Upfront(++), or All Upfront(+++)
 > Reserved Instance's Scope - Regional or Zonal (reserve capacity in an AZ)
 > Recommended for:
	- Steady state usage application (like databases)
 > You can buy and sell in the Reserved Instance Marketplace


Convertible Reserved Instance
 > sub-type of Reserved Instances
 > here, you can change the EC2 instance type, instance family, OS, scope, and tenancy
 > Up to 66% discount, LOWER than a typical Reserved Instances





EC2 Saving Plans
 > get a discount based on long-term usage (up to 72% - same as Reserved Instances)
 > Commit to a certain type of usage (ex: $10/hours for 1 or 3 years)
 > Usage beyond EC2 Savings Plans is billing at the On-Demand price
 > Locked to a specific instance family and AWS region (e.g., M5 in us-east-1)
 > Flexible accross:
	- Instance Size (e.g., m5.xlarge, m5.2xlarge)
	- OS (e.g., Linux, Windows)
	- Tenancy (Host, Dedicated, Default)






EC2 Spot Instances
 > Can get a discount of up to 90% compared to On-demand
 > Instances that you can "lose" at any point of time if your max price is less than the current spot price
 > The MOST cost-efficient instances in AWS 
 > Useful for workloads that are resilient to failure	
	- Batch jobs
	- Data analysis
	- Image processing
	- Any distributed workloads
	- Workloads with flexible start and end time
 > Not suitable for critical jobs or databases






EC2 Dedicated Hosts
 > A physical server with EC2 instance capacity fully dedicated to your use
 > Allows you to address compliance requirements and use your existing server-bound software licenses (per-socket, per-core, per-VM software licenses)
 > Purchasing Options:
	- On-demand - pay per second for active Dedicated Host
	- Reserved - 1 or 3 years (No upfront, Partial Upfront, or All Upfront)
 > The MOST EXPENSIVE OPTION
 > Useful for:
	- Softwares that have complicated licensing model (ex: BYOL - Bring Your Own License)
 	- Companies that have strong regulatory or compliance needs




EC2 Dedicated Instances
 > Instances run on hardware that is DEDICATED to you
 > May share hardware with other instance in SAME ACCOUNT
 > No control over instance placement (can move hardware after Stop/Start)




EC2 Capacity Reservations
 > Reserve On-Demand instances capacity in a specific AZ for any duration
 > You always have access to EC2 capacity when you need it
 > No time commitment (can create/cancel anytime), but no billing discounts
 > Need to combine with Regional Reserved Instances and/or Savings Plans to benefit from billing discounts
 > You're charged at On-Demand rate whether you run instances or not
 > Suitable for:
	- Short-term, uninterrupted workloads that needs to be in a specific AZ




Using Hotel as Analogy for EC2 instance
On demand 
 > coming and staying in resort whenever we like
 > we pay the full price
Reserved
 > like planning ahead and if we plan to stay for a long time, we may get a good discount
Savings Plans
 > pay a certain amount per hour for certain period and stay in any room type (e.g. King, Suite, Sea View,...)
Spot Instances
 > the hotel allows people to bid for the empty rooms and the highest bidder keeps the rooms.
 > you can get kicked out at any time
Dedicated Hosts
 > We book an entire building of the resort
Capacity Reservations
 > you book a room for a period with full price even if you dont stay in it
 > you can use the room anytime within the period 



Price comparison for m4.large at us-east-1
Price Type				Price (per hour)
On-Demand				$0.10
Spot Instance (Spot price)		$0.038-$0.039 (61% off)
Reserved Instance (1 year)		$0.062 (No Upfront) or $ 0.058 (All Upfront)
Reserved Instance (3 years)		$0.043 (No Upfront) or $ 0.037 (All Upfront)
EC2 Savings Plan (1 year)		$0.062 (No Upfront) or $ 0.058 (All Upfront)
Reserved Convertible Instance (1 year)	$0.071 (No Upfront) or $ 0.066 (All Upfront)
Dedicated Host				On-Demand price
Dedicated Host Reservation		Up to 70% off
Capacity Reservation			On-Demand price






NOTE: 
1. In Dedicated Instances, you have your own dedicated instance on your own hardware. Whereas in Dedicated Host, you get access to the physical server itself and it gives you visibility into the lower level hardware